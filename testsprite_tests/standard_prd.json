{
  "meta": {
    "project": "Infinia Property Management System",
    "date": "2025-11-04",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Infinia Property Management System is a comprehensive platform designed to help landlords and property managers efficiently manage properties, units, tenants, payments, and communications through a user-friendly web interface and robust backend services.",
  "core_goals": [
    "Enable efficient management of properties, units, and tenants.",
    "Facilitate streamlined payment processing, invoice generation, and receipt handling.",
    "Provide real-time dashboard analytics and reporting for operational insight.",
    "Support secure authentication and user role management via Firebase.",
    "Integrate communication services such as SMS for tenant notifications.",
    "Ensure system scalability and maintainability using modern tech stack."
  ],
  "key_features": [
    "Dashboard with integrated metrics for tenants, properties, units, and payments.",
    "Tenant Management including listing, detailed views, importing, and statistics.",
    "Property and Unit Management with capabilities to create, update, and organize nested units.",
    "Payment and Invoice Management supporting payment history, receipt viewing, and invoice generation.",
    "Authentication and Profile Management with Firebase login and user profile editing.",
    "SMS communication integration for payment confirmations and rent reminders.",
    "Background processes for invoice generation, payment processing, and reporting using Celery."
  ],
  "user_flow_summary": [
    "User signs in via Firebase authentication and accesses the main dashboard.",
    "User navigates to Properties to view, add, or modify properties and their units.",
    "User views and manages tenant information including bulk import and detailed stats.",
    "User processes payments, views receipts and invoices, and schedules payments.",
    "User sends and receives SMS communications for tenant notifications.",
    "User updates personal profile and manages account settings.",
    "System generates background tasks like invoice creation and payment reconciliation automatically."
  ],
  "validation_criteria": [
    "All API endpoints require valid Firebase authentication tokens to ensure secure access.",
    "Dashboard metrics accurately reflect real-time data from tenants, properties, units, and payments.",
    "Tenant import supports bulk upload with error handling and data validation.",
    "Property and Unit CRUD operations reflect accurately in database and UI.",
    "Payments are processed correctly with support for M-Pesa, bank, and cash methods including reconciliation.",
    "SMS messages are sent successfully using AfricasTalking API with appropriate templates.",
    "User roles and permissions are enforced consistently throughout the system.",
    "Background tasks run reliably with Celery and Redis integrations, and errors are logged for troubleshooting."
  ],
  "code_summary": {
    "tech_stack": [
      "Next.js 15",
      "React 19",
      "TypeScript",
      "Tailwind CSS",
      "Axios",
      "Next Auth",
      "Firebase Web SDK"
    ],
    "features": [
      {
        "name": "Dashboard",
        "description": "Main dashboard UI integrating tenants, properties, units, payments metrics.",
        "files": [
          "app/dashboard/*",
          "components/dashboard/*"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Frontend Dashboard Integration",
            "version": "1.0.0"
          },
          "servers": [
            {
              "url": "http://localhost:8000/api/v1"
            }
          ],
          "paths": {
            "/tenants/": {
              "get": {
                "summary": "Fetch tenants for dashboard tables"
              }
            },
            "/properties/": {
              "get": {
                "summary": "Fetch properties for dashboard cards"
              }
            },
            "/units/": {
              "get": {
                "summary": "Fetch units for lists"
              }
            },
            "/payments/": {
              "get": {
                "summary": "Fetch payments for charts"
              }
            }
          }
        }
      },
      {
        "name": "Tenants UI",
        "description": "Tenant listing, import, stats and detail views.",
        "files": [
          "app/tenants/*",
          "components/tenants/*",
          "hooks/useInvoices.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Tenants UI -> API usage",
            "version": "1.0.0"
          },
          "servers": [
            {
              "url": "http://localhost:8000/api/v1/tenants"
            }
          ],
          "paths": {
            "/": {
              "get": {
                "summary": "List tenants"
              },
              "post": {
                "summary": "Create tenant"
              }
            },
            "/stats/": {
              "get": {
                "summary": "Tenant stats"
              }
            },
            "/import/": {
              "post": {
                "summary": "Bulk import tenants"
              }
            }
          }
        }
      },
      {
        "name": "Properties & Units UI",
        "description": "Manage properties and nested units from the frontend.",
        "files": [
          "app/properties/*",
          "components/properties/*",
          "app/units/*",
          "components/units/*"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Properties & Units UI -> API usage",
            "version": "1.0.0"
          },
          "servers": [
            {
              "url": "http://localhost:8000/api/v1"
            }
          ],
          "paths": {
            "/properties/": {
              "get": {
                "summary": "List properties"
              },
              "post": {
                "summary": "Create property"
              }
            },
            "/properties/{property_pk}/units/": {
              "get": {
                "summary": "List units for property"
              }
            },
            "/units/": {
              "get": {
                "summary": "List all units"
              }
            }
          }
        }
      },
      {
        "name": "Payments & Invoices UI",
        "description": "Handle payments, receipts and invoice generation and schedules.",
        "files": [
          "app/payments/*",
          "components/payments/*",
          "app/invoice/*",
          "hooks/useInvoices.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Payments & Invoices UI -> API usage",
            "version": "1.0.0"
          },
          "servers": [
            {
              "url": "http://localhost:8000/api/v1/payments"
            }
          ],
          "paths": {
            "/payments": {
              "get": {
                "summary": "List payments"
              }
            },
            "/receipts": {
              "get": {
                "summary": "List receipts"
              }
            },
            "/invoices": {
              "get": {
                "summary": "List invoices"
              }
            }
          }
        }
      },
      {
        "name": "Auth & Profile UI",
        "description": "Sign in/up flows and current user profile view and edit.",
        "files": [
          "app/signin/*",
          "app/signup/*",
          "app/profile/*",
          "lib/axios.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Auth & Profile UI -> API usage",
            "version": "1.0.0"
          },
          "servers": [
            {
              "url": "http://localhost:8000/api/v1"
            }
          ],
          "paths": {
            "/auth/firebase-login/": {
              "post": {
                "summary": "Firebase login"
              }
            },
            "/auth/me/": {
              "get": {
                "summary": "Fetch current user"
              },
              "put": {
                "summary": "Update current user"
              }
            }
          }
        }
      }
    ]
  }
}
